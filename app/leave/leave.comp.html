<link type="text/css" rel="stylesheet" href="app/leave/leave.comp.css"/>

<div class="leave">
    <!-- Show leave form if 'showLeaveForm' is true -->
    <div class="leave-form-container" ng-if="showLeaveForm"> 
        <div class="leave-form">
            <form ng-submit="submit(form_data)">
                <div class="leave-form-group">
                    <label for="from">From:</label>
                    <input type="date" id="from" ng-model="form_data.from"/>
                </div>
                <div class="leave-form-group">
                    <label for="to">To:</label>
                    <input type="date" id="to" ng-model="form_data.to" ng-disabled="!form_data.from"/>
                </div>
                <div class="leave-form-group">
                    <label for="type">Type:</label><br>
                    <select id="type" ng-model="form_data.type" style="width:100%">
                        <option value="paid">Paid</option>
                        <option value="med">Med</option>
                    </select>
                </div>
                <div class="leave-form-group">
                    <label for="purpose">Purpose of Leave</label>
                    <textarea id="purpose" cols="30" rows="10" ng-model="form_data.purpose"></textarea>
                </div>
                <div class="btn-block">
                    <button type="submit">Apply leave</button>
                    <button ng-click="showLeaveForm = !showLeaveForm" ng-style="{background:'red'}">Close Form {{showLeaveForm}}</button>
                </div>
            </form>
        </div>
    </div>
    <!  -- End Leave Form -->

    <div class="leave-status">
        <h3><u>Leave Status: {{(med_taken+$ctrl.med_taken)+"/"+(total_leaves_allowed)}}</u></h3>
        <p>Total Leaves Allowed: {{total_leaves_allowed}} </p>
        <p>Paid Leaves Taken: {{paid_taken}} </p>
        <p>Medical Leaves Taken: {{med_taken}}</p>
    </div>
    <div class="leave-history">
        <div class="leave-head">
            <div class="leave-tabs">
                <p class="leave-tab active">All</p>
                <p class="leave-tab">Paid Leaves</p>
                <p class="leave-tab">Medical Leaves</p>
            </div>
            <div>
                <button class="btn-leave-apply" ng-click="showLeaveForm = !showLeaveForm">Apply</button>
            </div>
        </div>
        <div ng-repeat="curr in user.leaves">
            <leave-row record="curr"></leave-row>
        </div>
    </div>
</div>